// A lot of the ammo pickups for ReMixer enemies were internally disorganized
// and needed to be updated for the new ammo pickups, so they'll be in this
// file for easier reference.

// Wolfenstein 3D
actor WolfClip : Clip2
{
    +FLOORCLIP
    States
    {
      Spawn:
        WMAG A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        WMAG A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

// Wolfenstein 3D: Spear of Destiny
actor SODClip : Clip2
{
    +FLOORCLIP
    States
    {
      Spawn:
        SMAG A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        SMAG A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

// Castle Totenkopf SDL
actor Totenkopf_PistolEnemyDrop : SamsaraEnemyAmmoPickup
{
    States
    {
      Spawn:
        TK02 M 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        TK02 M -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop

      Pickup:
        TNT1 A 0 A_JumpIfInventory("ChexClass",1,"PickupChex")
        TNT1 A 0 A_JumpIfInventory("WolfenClass",1,"PickupWolfenstein")
        TNT1 A 0 A_JumpIfInventory("MarathonClass",1,"PickupMarathon")
        TNT1 A 0 A_JumpIfInventory("RottClass",1,"PickupROTT")
        TNT1 A 0 A_JumpIfInventory("BondClass",1,"PickupGoldenEye")
        TNT1 A 0 A_JumpIfInventory("CatacombClass",1,"PickupCatacomb")
        TNT1 A 0 A_Jump(256,"PickupDefault") // for inheriting actors
        goto PickupDefault

      PickupDefault:
        TNT1 A 0 A_JumpIfInventory("Clip",0,"PickupFail")
        goto PickupDisplay

      PickupChex:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Dual Mini-Zorchers",1,"PickupFail")
        TNT1 A 0 A_JumpIfInventory("Dual Micro-Zorchers",1,"PickupFail")
        goto PickupDisplay

      PickupWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupTotenkopf")
        goto PickupDefault

      PickupTotenkopf:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Totenkopf_IHaveDualPistols",1,"PickupFail")
        goto PickupDisplay

      PickupMarathon:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("CanDualPistols",1,"PickupFail")
        goto PickupDisplay

      PickupROTT:
        TNT1 A 0 A_JumpIfInventory("RottMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Double Pistols",1,"PickupFail")
        goto PickupDisplay

      PickupGoldenEye:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Goldeneye_PP7DualToken",1,"PickupFail")
        goto PickupDisplay

      PickupCatacomb:
        TNT1 A 0 A_JumpIfInventory("Catacomb_Zappers",0,"PickupFail")
        goto PickupDisplay

      PickupDisplay:
        TNT1 A 0 A_JumpIfInventory("ChexClass",1,"PickupDisplayChex")
        TNT1 A 0 A_JumpIfInventory("WolfenClass",1,"PickupDisplayWolfenstein")
        TNT1 A 0 A_JumpIfInventory("MarathonClass",1,"PickupDisplayMarathon")
        TNT1 A 0 A_JumpIfInventory("RottClass",1,"PickupDisplayROTT")
        TNT1 A 0 A_JumpIfInventory("BondClass",1,"PickupDisplayGoldenEye")
        TNT1 A 0 A_Jump(256,"PickupDisplayDefault") // for inheriting actors
        goto PickupDisplayDefault

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayChex:
        TNT1 A 0 A_JumpIfInventory("Dual Mini-Zorchers",1,3)
        TNT1 A 0 A_JumpIfInventory("Dual Micro-Zorchers",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 12, 2, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupDisplayTotenkopf")
        goto PickupDisplayDefault

      PickupDisplayTotenkopf:
        //TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 0)
        //TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        //TNT1 A 0 A_PlaySound("totenkopf/getweapon",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 13, -1, 0)
        goto PickupSuccess

      PickupDisplayMarathon:
        TNT1 A 0 A_JumpIfInventory("CanDualPistols",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 17, -1, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayROTT:
        TNT1 A 0 A_JumpIfInventory("Double Pistols",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientWeaponPickup", 0, 3, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayGoldenEye:
        TNT1 A 0 A_JumpIfInventory("Goldeneye_PP7DualToken",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 40, 2, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccess:
        TNT1 A 0 A_JumpIfInventory("ChexClass",1,"PickupSuccessChex")
        TNT1 A 0 A_JumpIfInventory("WolfenClass",1,"PickupSuccessWolfenstein")
        TNT1 A 0 A_JumpIfInventory("MarathonClass",1,"PickupSuccessMarathon")
        TNT1 A 0 A_JumpIfInventory("RottClass",1,"PickupSuccessROTT")
        TNT1 A 0 A_JumpIfInventory("BondClass",1,"PickupSuccessGoldenEye")
        TNT1 A 0 A_JumpIfInventory("CatacombClass",1,"PickupSuccessCatacomb")
        TNT1 A 0 A_Jump(256,"PickupSuccessDefault") // for inheriting actors
        goto PickupSuccessDefault

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",4)
        stop

      PickupSuccessChex:
        TNT1 A 0 A_JumpIfInventory("Dual Mini-Zorchers",1,"PickupSuccessChexAmmo")
        TNT1 A 0 A_JumpIfInventory("Dual Micro-Zorchers",1,"PickupSuccessChexAmmo")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasAllLoadoutEquipment",1,"PickupSuccessChexLoadout0")
        TNT1 A 0 A_JumpIfInventory("SamsaraChexLoadoutFallbackRanged",1,"PickupSuccessChexLoadout1")
      PickupSuccessChexLoadout0:
        TNT1 A 0 A_GiveInventory("Dual Mini-Zorchers")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasAllLoadoutEquipment",1,"PickupSuccessChexLoadout1")
        stop

      PickupSuccessChexLoadout1:
        TNT1 A 0 A_GiveInventory("Dual Micro-Zorchers")
        stop

      PickupSuccessChexAmmo:
        TNT1 A 0 A_GiveInventory("Clip",4)
        stop

      PickupSuccessWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupSuccessTotenkopf")
        TNT1 A 0 A_JumpIfInventory("Totenkopf_IHaveDualPistols",1,3)
        TNT1 A 0 A_GiveInventory("Clip",4)
        TNT1 A 0 A_GiveInventory("Totenkopf_IHaveDualPistols")
        stop
        TNT1 A 0 A_GiveInventory("Clip",4)
        stop

      PickupSuccessTotenkopf:
        TNT1 A 0 A_JumpIfInventory("Totenkopf_IHaveDualPistols",1,3)
        TNT1 A 0 A_GiveInventory("Totenkopf_PistolDual")
        TNT1 A 0 A_GiveInventory("Totenkopf_IHaveDualPistols")
        stop
        TNT1 A 0 A_GiveInventory("Clip",4)
        stop

      PickupSuccessMarathon:
        TNT1 A 0 A_JumpIfInventory("CanDualPistols",1,2)
        TNT1 A 0 A_GiveInventory("CanDualPistols")
        stop
        TNT1 A 0 A_GiveInventory("Clip",4)
        stop

      PickupSuccessROTT:
        TNT1 A 0 A_JumpIfInventory("Double Pistols",1,3)
        TNT1 A 0 A_GiveInventory("GotWeapon2")
        TNT1 A 0 A_GiveInventory("Double Pistols")
        stop
        TNT1 A 0 A_GiveInventory("RottMissiles",3)
        stop

      PickupSuccessGoldenEye:
        TNT1 A 0 A_JumpIfInventory("Goldeneye_PP7DualToken",1,2)
        TNT1 A 0 A_GiveInventory("Goldeneye_PP7DualToken")
        stop
        TNT1 A 0 A_GiveInventory("Clip",4)
        stop

      PickupSuccessCatacomb:
        TNT1 A 0 A_GiveInventory("Catacomb_Zappers",1)
        stop
    }
}

// Duke Nukem 3D
actor AEnforcerAmmoDrop : Ammo1Big
{
    Scale 0.65
    +DONTGIB
    +DROPPED
    +FLOORCLIP
    +NEVERRESPAWN
    States
    {
      Spawn:
        DCAP A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        DCAP A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop

      PickupSuccessPainkiller:
        goto PickupSuccessPainkillerReplenish
    }
}

actor ATrooperAmmoDrop : Clip2
{
    Scale 0.4
    +FLOORCLIP
    States
    {
      Spawn:
        DPAP A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        DPAP A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop
    }
}

// PowerSlave/Exhumed
actor PowerSlaveSoulAmmoClip : Ammo1Small
{
    RenderStyle "Add"
    +DONTGIB
    +DROPPED
    +FLOATBOB
    +FLOORCLIP
    +NEVERRESPAWN
    States
    {
      Spawn:
        PS78 K 0 Bright
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PS78 K -1 Bright A_ChangeFlag("NOTIMEFREEZE",false)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 1)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ps/soul/ammo",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessPainkiller:
        goto PickupSuccessPainkillerReplenish
    }
}

actor PowerSlaveSoulAmmoShell : Ammo2Small
{
    RenderStyle "Add"
    +DONTGIB
    +DROPPED
    +FLOATBOB
    +FLOORCLIP
    +NEVERRESPAWN
    States
    {
      Spawn:
        PS78 K 0 Bright
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        PS78 K -1 Bright A_ChangeFlag("NOTIMEFREEZE",false)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 2, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ps/soul/ammo",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessPainkiller:
        goto PickupSuccessPainkillerReplenish
    }
}

// Redneck Rampage
actor CootAmmoDrop : Clip2
{
    Scale 0.25
    States
    {
      Spawn:
        RR00 A 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        RR00 A -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 2)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",6)
        stop
    }
}

actor JeeterAmmoDrop : Ammo2Small
{
    Scale 0.3
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        RR00 B 0
        goto SpawnGameModeCheck

      SpawnActual:
        TNT1 A 0 A_ChangeFlag("THRUACTORS",false)
        RR00 B -1 A_ChangeFlag("NOTIMEFREEZE",false)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 2, 1)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/shellsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessPainkiller:
        goto PickupSuccessPainkillerReplenish
    }
}

// GoldenEye 007
actor Goldeneye_PP7EnemyDrop : SamsaraEnemyAmmoPickup
{
    Gravity 0.33
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      Pickup:
        TNT1 A 0 A_JumpIfInventory("ChexClass",1,"PickupChex")
        TNT1 A 0 A_JumpIfInventory("WolfenClass",1,"PickupWolfenstein")
        TNT1 A 0 A_JumpIfInventory("HexenClass",1,"PickupHexen1")
        TNT1 A 0 A_JumpIfInventory("MarathonClass",1,"PickupMarathon")
        TNT1 A 0 A_JumpIfInventory("RottClass",1,"PickupROTT")
        TNT1 A 0 A_JumpIfInventory("Hexen2Class",1,"PickupHexen2")
        TNT1 A 0 A_JumpIfInventory("BondClass",1,"PickupGoldenEye")
        TNT1 A 0 A_JumpIfInventory("CatacombClass",1,"PickupCatacomb")
        TNT1 A 0 A_Jump(256,"PickupDefault") // for inheriting actors
        goto PickupDefault

      PickupDefault:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Shell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("RocketAmmo",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,"PickupFail")
        goto PickupDisplay

      PickupChex:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Shell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("RocketAmmo",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Dual Mini-Zorchers",1,"PickupFail")
        TNT1 A 0 A_JumpIfInventory("Dual Micro-Zorchers",1,"PickupFail")
        goto PickupDisplay

      PickupWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupTotenkopf")
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("RocketAmmo",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,"PickupFail")
        goto PickupDisplay

      PickupTotenkopf:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Shell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("RocketAmmo",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Totenkopf_IHaveDualPistols",1,"PickupFail")
        goto PickupDisplay

      PickupHexen1:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,"PickupFail")
        goto PickupDisplay

      PickupMarathon:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Shell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("RocketAmmo",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("CanDualPistols",1,"PickupFail")
        goto PickupDisplay

      PickupROTT:
        TNT1 A 0 A_JumpIfInventory("RottMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("HSMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("FBMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("DMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("SMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("DMMissiles",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Double Pistols",0,"PickupFail")
        goto PickupDisplay

      PickupHexen2:
        goto PickupHexen1

      PickupGoldenEye:
        TNT1 A 0 A_JumpIfInventory("Clip",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Shell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("RocketAmmo",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Cell",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Goldeneye_PP7DualToken",1,"PickupFail")
        goto PickupDisplay

      PickupCatacomb:
        TNT1 A 0 A_JumpIfInventory("Catacomb_Waves",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Catacomb_XTerminators",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Catacomb_Nukes",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Catacomb_Bolts",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Catacomb_Zappers",0,1)
        goto PickupDisplay
        TNT1 A 0 A_JumpIfInventory("Catacomb_Bursts",0,"PickupFail")
        goto PickupDisplay

      PickupDisplay:
        TNT1 A 0 A_JumpIfInventory("ChexClass",1,"PickupDisplayChex")
        TNT1 A 0 A_JumpIfInventory("WolfenClass",1,"PickupDisplayWolfenstein")
        TNT1 A 0 A_JumpIfInventory("MarathonClass",1,"PickupDisplayMarathon")
        TNT1 A 0 A_JumpIfInventory("RottClass",1,"PickupDisplayROTT")
        TNT1 A 0 A_JumpIfInventory("BondClass",1,"PickupDisplayGoldenEye")
        TNT1 A 0 A_Jump(256,"PickupDisplayDefault") // for inheriting actors
        goto PickupDisplayDefault

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 8, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/combosmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayChex:
        TNT1 A 0 A_JumpIfInventory("Dual Mini-Zorchers",1,3)
        TNT1 A 0 A_JumpIfInventory("Dual Micro-Zorchers",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 12, 2, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 8, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/combosmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupDisplayTotenkopf")
        goto PickupDisplayDefault

      PickupDisplayTotenkopf:
        TNT1 A 0 A_JumpIfInventory("Totenkopf_IHaveDualPistols",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 13, -1, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 8, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/combosmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayMarathon:
        TNT1 A 0 A_JumpIfInventory("CanDualPistols",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 17, -1, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 8, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/combosmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayROTT:
        TNT1 A 0 A_JumpIfInventory("Double Pistols",1,2)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientWeaponPickup", 0, 3, 0)
        goto PickupSuccess
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 8, 0)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/combosmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupDisplayGoldenEye:
        //TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 8, 0)
        //TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        //TNT1 A 0 A_PlaySound("Goldeneye/Weaponup",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraClientMiscPickup", 0, 40, 2, 0)
        goto PickupSuccess

      PickupSuccess:
        TNT1 A 0 A_JumpIfInventory("ChexClass",1,"PickupSuccessChex")
        TNT1 A 0 A_JumpIfInventory("WolfenClass",1,"PickupSuccessWolfenstein")
        TNT1 A 0 A_JumpIfInventory("HexenClass",1,"PickupSuccessHexen1")
        TNT1 A 0 A_JumpIfInventory("MarathonClass",1,"PickupSuccessMarathon")
        TNT1 A 0 A_JumpIfInventory("RottClass",1,"PickupSuccessROTT")
        TNT1 A 0 A_JumpIfInventory("Hexen2Class",1,"PickupSuccessHexen2")
        TNT1 A 0 A_JumpIfInventory("BondClass",1,"PickupSuccessGoldenEye")
        TNT1 A 0 A_JumpIfInventory("CatacombClass",1,"PickupSuccessCatacomb")
        TNT1 A 0 A_Jump(256,"PickupSuccessDefault") // for inheriting actors
        goto PickupSuccessDefault

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Shell",4)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        TNT1 A 0 A_GiveInventory("Cell",20)
        stop

      PickupSuccessChex:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Shell",4)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        TNT1 A 0 A_GiveInventory("Cell",20)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasAllLoadoutEquipment",1,"PickupSuccessChexLoadout0")
        TNT1 A 0 A_JumpIfInventory("SamsaraChexLoadoutFallbackRanged",1,"PickupSuccessChexLoadout1")
      PickupSuccessChexLoadout0:
        TNT1 A 0 A_GiveInventory("Dual Mini-Zorchers")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasAllLoadoutEquipment",1,"PickupSuccessChexLoadout1")
        stop

      PickupSuccessChexLoadout1:
        TNT1 A 0 A_GiveInventory("Dual Micro-Zorchers")
        stop

      PickupSuccessWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupSuccessTotenkopf")
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        TNT1 A 0 A_GiveInventory("Cell",20)
        TNT1 A 0 A_GiveInventory("Totenkopf_IHaveDualPistols")
        stop

      PickupSuccessTotenkopf:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Shell",4)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        TNT1 A 0 A_GiveInventory("Cell",20)
        TNT1 A 0 A_GiveInventory("Totenkopf_PistolDual")
        TNT1 A 0 A_GiveInventory("Totenkopf_IHaveDualPistols")
        stop

      PickupSuccessHexen1:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Cell",20)
        stop

      PickupSuccessMarathon:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Shell",4)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        TNT1 A 0 A_GiveInventory("Cell",20)
        TNT1 A 0 A_GiveInventory("CanDualPistols")
        stop

      PickupSuccessROTT:
        TNT1 A 0 A_GiveInventory("RottMissiles",5)
        TNT1 A 0 A_GiveInventory("HSMissiles",5)
        TNT1 A 0 A_GiveInventory("FBMissiles",1)
        TNT1 A 0 A_GiveInventory("DMissiles",8)
        TNT1 A 0 A_GiveInventory("SMissiles",5)
        TNT1 A 0 A_GiveInventory("DMMissiles",1)
        TNT1 A 0 A_GiveInventory("GotWeapon2")
        TNT1 A 0 A_GiveInventory("Double Pistols")
        stop

      PickupSuccessHexen2:
        goto PickupSuccessHexen1

      PickupSuccessGoldenEye:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Shell",4)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        TNT1 A 0 A_GiveInventory("Cell",20)
        TNT1 A 0 A_GiveInventory("Goldeneye_PP7DualToken")
        stop

      PickupSuccessCatacomb:
        TNT1 A 0 A_GiveInventory("Catacomb_Waves",1)
        TNT1 A 0 A_GiveInventory("Catacomb_XTerminators",1)
        TNT1 A 0 A_GiveInventory("Catacomb_Nukes",1)
        TNT1 A 0 A_GiveInventory("Catacomb_Bolts",1)
        TNT1 A 0 A_GiveInventory("Catacomb_Zappers",1)
        TNT1 A 0 A_GiveInventory("Catacomb_Bursts",1)
        stop
    }
}

actor Goldeneye_DD44EnemyDrop : Clip2
{
    Gravity 0.33
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 3)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess
    }
}

actor Goldeneye_KlobbEnemyDrop : Goldeneye_DD44EnemyDrop
{
    States
    {
      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 4)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess
    }
}

actor Goldeneye_AR33MagEnemyDrop : Ammo1Big
{
    Gravity 0.33
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 1, 2)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletbig",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",30)
        stop

      PickupSuccessDuke:
        TNT1 A 0 A_JumpIfInventory("DukeClassMode",2,"PickupSuccessDuke64")
        goto PickupSuccessDefault

      PickupSuccessDuke64:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("Duke64DumDums",4)
        stop

      PickupSuccessQuake1:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,"PickupStop")
        TNT1 A 0 A_GiveInventory("LavaNails",11)
        stop

      PickupSuccessROTT:
        TNT1 A 0 A_GiveInventory("RottMissiles",11)
        stop

      PickupSuccessBlake:
        TNT1 A 0 A_GiveInventory("Clip",36)
        stop

      PickupSuccessCorridor7:
        goto PickupSuccessBlake

      PickupSuccessDisruptor:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("DisruptorHiFreq",10)
        stop

      PickupSuccessWitchaven:
        goto PickupSuccessBlake

      PickupSuccessRedneck:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("MotoGunAmmo",30)
        stop

      PickupSuccessQuake2:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("Q2Flechettes",15)
        stop

      PickupSuccessCatacomb:
        TNT1 A 0 A_GiveInventory("Catacomb_Waves",random(2,3))
        TNT1 A 0 A_GiveInventory("Catacomb_Zappers",random(2,3))
        stop

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("Painkiller_FlamerAmmo",9)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo1",15)
        stop

      PickupSuccessQuake3:
        TNT1 A 0 A_GiveInventory("Clip",30)
        TNT1 A 0 A_GiveInventory("Q3ChaingunAmmo",30)
        stop
    }
}

actor Goldeneye_D5KMagEnemyDrop : Goldeneye_AR33MagEnemyDrop
{
    States
    {
      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 1, 3)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletbig",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess
    }
}

actor Goldeneye_KF7MagEnemyDrop : Goldeneye_AR33MagEnemyDrop
{
    States
    {
      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 1, 4)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletbig",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess
    }
}

actor Goldeneye_PhantomMagEnemyDrop : Ammo1Big
{
    Gravity 0.33
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 1, 5)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletbig",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessPainkiller:
        goto PickupSuccessPainkillerReplenish
    }
}

actor Goldeneye_ZMGMagEnemyDrop : Goldeneye_AR33MagEnemyDrop
{
    States
    {
      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 1, 6)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletbig",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",32)
        stop

      PickupSuccessDuke:
        TNT1 A 0 A_JumpIfInventory("DukeClassMode",2,"PickupSuccessDuke64")
        goto PickupSuccessDefault

      PickupSuccessDuke64:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("Duke64DumDums",4)
        stop

      PickupSuccessQuake1:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,"PickupStop")
        TNT1 A 0 A_GiveInventory("LavaNails",11)
        stop

      PickupSuccessBlake:
        TNT1 A 0 A_GiveInventory("Clip",38)
        stop

      PickupSuccessCorridor7:
        goto PickupSuccessBlake

      PickupSuccessDisruptor:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("DisruptorHiFreq",10)
        stop

      PickupSuccessWitchaven:
        goto PickupSuccessBlake

      PickupSuccessRedneck:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("MotoGunAmmo",30)
        stop

      PickupSuccessQuake2:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("Q2Flechettes",15)
        stop

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("Painkiller_FlamerAmmo",9)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo1",16)
        stop

      PickupSuccessQuake3:
        TNT1 A 0 A_GiveInventory("Clip",32)
        TNT1 A 0 A_GiveInventory("Q3ChaingunAmmo",30)
        stop
    }
}

actor Goldeneye_KlobbMagEnemyDrop : Ammo1Small
{
    Gravity 0.33
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 5)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",20)
        stop

      PickupSuccessQuake1:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,"PickupStop")
        TNT1 A 0 A_GiveInventory("LavaNails",6)
        stop

      PickupSuccessROTT:
        TNT1 A 0 A_GiveInventory("RottMissiles",5)
        stop

      PickupSuccessBlake:
        TNT1 A 0 A_GiveInventory("Clip",24)
        stop

      PickupSuccessCorridor7:
        goto PickupSuccessBlake

      PickupSuccessDisruptor:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("DisruptorHiFreq",8)
        stop

      PickupSuccessWitchaven:
        goto PickupSuccessBlake

      PickupSuccessRedneck:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("MotoGunAmmo",20)
        stop

      PickupSuccessQuake2:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("Q2Flechettes",10)
        stop

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("Painkiller_FlamerAmmo",8)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo1",10)
        stop

      PickupSuccessQuake3:
        TNT1 A 0 A_GiveInventory("Clip",20)
        TNT1 A 0 A_GiveInventory("Q3ChaingunAmmo",20)
        stop
    }
}

actor Goldeneye_DD44MagEnemyDrop : Goldeneye_KlobbMagEnemyDrop // was Goldeneye_DD44EnemyDrop, which inherited from Clip2
{
    States
    {
      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 6)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",8)
        stop

      PickupSuccessQuake1:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,"PickupStop")
        TNT1 A 0 A_GiveInventory("LavaNails",3)
        stop

      PickupSuccessROTT:
        TNT1 A 0 A_GiveInventory("RottMissiles",1)
        stop

      PickupSuccessBlake:
        TNT1 A 0 A_GiveInventory("Clip",10)
        stop

      PickupSuccessCorridor7:
        goto PickupSuccessBlake

      PickupSuccessDisruptor:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_GiveInventory("DisruptorHiFreq",3)
        stop

      PickupSuccessWitchaven:
        goto PickupSuccessBlake

      PickupSuccessRedneck:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_GiveInventory("MotoGunAmmo",8)
        stop

      PickupSuccessQuake2:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_GiveInventory("Q2Flechettes",4)
        stop

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_GiveInventory("Painkiller_FlamerAmmo",3)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo1",4)
        stop

      PickupSuccessQuake3:
        TNT1 A 0 A_GiveInventory("Clip",8)
        TNT1 A 0 A_GiveInventory("Q3ChaingunAmmo",8)
        stop
    }
}

actor Goldeneye_PP7MagEnemyDrop : Goldeneye_KlobbMagEnemyDrop // was Goldeneye_DD44EnemyDrop, which inherited from Clip2
{
    States
    {
      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 0, 7)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/bulletsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Clip",7)
        stop

      PickupSuccessQuake1:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,"PickupStop")
        TNT1 A 0 A_GiveInventory("LavaNails",2)
        stop

      PickupSuccessROTT:
        TNT1 A 0 A_GiveInventory("RottMissiles",1)
        stop

      PickupSuccessBlake:
        TNT1 A 0 A_GiveInventory("Clip",9)
        stop

      PickupSuccessCorridor7:
        goto PickupSuccessBlake

      PickupSuccessDisruptor:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_GiveInventory("DisruptorHiFreq",3)
        stop

      PickupSuccessWitchaven:
        goto PickupSuccessBlake

      PickupSuccessRedneck:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_GiveInventory("MotoGunAmmo",7)
        stop

      PickupSuccessQuake2:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_GiveInventory("Q2Flechettes",3)
        stop

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_GiveInventory("Painkiller_FlamerAmmo",3)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo1",3)
        stop

      PickupSuccessQuake3:
        TNT1 A 0 A_GiveInventory("Clip",7)
        TNT1 A 0 A_GiveInventory("Q3ChaingunAmmo",7)
        stop
    }
}

actor Goldeneye_AutoShotgunMagEnemyDrop : Ammo2Small
{
    Gravity 0.33
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 2, 2)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/shellsmall",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Shell",5)
        stop

      PickupSuccessWolfenstein:
        TNT1 A 0 A_JumpIfInventory("WolfenClassMode",2,"PickupSuccessTotenkopf")
        goto Super::PickupSuccessWolfenstein

      PickupSuccessTotenkopf:
        goto PickupSuccessDefault

      PickupSuccessQuake1:
        TNT1 A 0 A_GiveInventory("Shell",5)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        stop

      PickupSuccessStrife:
        TNT1 A 0 A_GiveInventory("Shell",5)
        TNT1 A 0 A_GiveInventory("StrifePoisonAmmo",2)
        TNT1 A 0 A_GiveInventory("RocketAmmo",1)
        stop

      PickupSuccessDisruptor:
        TNT1 A 0 A_GiveInventory("Clip",10)
        TNT1 A 0 A_GiveInventory("Shell",5)
        stop

      PickupSuccessShadowWarrior:
        goto PickupSuccessQuake1

      PickupSuccessGoldenEye:
        goto PickupSuccessDisruptor

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Shell",5)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Shell",5)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo2",2)
        stop

      PickupSuccessDescent:
        goto PickupSuccessDisruptor
    }
}

actor Goldeneye_RCP90MagEnemyDrop : Ammo4Big
{
    Gravity 0.33
    +DONTGIB
    +DROPPED
    +NEVERRESPAWN
    States
    {
      Spawn:
        GE00 Z 0
        goto SpawnGameModeCheck

      SpawnActual:
        GE00 Z 0 A_ChangeFlag("THRUACTORS",false)
        GE00 Z 0 A_ChangeFlag("NOTIMEFREEZE",false)
      SpawnActualStart:
        GE00 Z 0 ThrustThing(random(0,256)/360,random(1,2),0,0)
        GE00 Z 0 ThrustThingZ(0,random(0,2),0,0)
        GE00 Z 0 A_SetAngle(random(0,360))
        GE00 Z 0 A_SetPitch(random(0,360))
      SpawnActualAnim:
        GE00 Z 0 A_SetPitch(pitch-15)
        GE00 Z 0 A_SetAngle(angle-15)
        GE00 Z 1 A_CheckFloor("SpawnActualLand")
        loop

      SpawnActualLand:
        GE00 Z 0 A_PlaySound("Goldeneye/DropLand")
        GE00 Z 0 A_Stop
        GE00 Z -1 A_SetPitch(0)
        stop

      PickupGoldenEye:
        goto PickupDefault

      PickupDisplayDefault:
        TNT1 A 0 ACS_NamedExecuteAlways("SamsaraPickupMessages", 0, 7, 7, 1)
        TNT1 A 0 A_GiveInventory("SamsaraAmmoPickupBlend")
        TNT1 A 0 A_PlaySound("ammo/plasmabig",CHAN_ITEM|CHAN_MAYBE_LOCAL)
        goto PickupSuccess

      PickupSuccessDefault:
        TNT1 A 0 A_GiveInventory("Cell",80)
        stop

      PickupSuccessDoom:
        TNT1 A 0 A_JumpIfInventory("DoomClassMode",2,"PickupSuccessStronghold")
        goto PickupSuccessDefault

      PickupSuccessStronghold:
        TNT1 A 0 A_GiveInventory("Cell",80)
        TNT1 A 0 A_JumpIfInventory("SamsaraExtraWeaponsAreEnabled",1,1)
        stop
        TNT1 A 0 A_GiveInventory("DoomguyStrGas",96)
        stop

      PickupSuccessDuke:
        TNT1 A 0 A_JumpIfInventory("DukeClassMode",2,"PickupSuccessDuke64")
        TNT1 A 0 A_GiveInventory("Cell",80)
        TNT1 A 0 A_GiveInventory("ShrinkerAmmo",3)
        TNT1 A 0 A_GiveInventory("ExpanderAmmo",20)
        stop

      PickupSuccessDuke64:
        TNT1 A 0 A_GiveInventory("Cell",80)
        TNT1 A 0 A_GiveInventory("Duke64ShrinkerAmmo",2)
        stop

      PickupSuccessQuake1:
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,2)
        TNT1 A 0 A_GiveInventory("LavaNails",50)
        TNT1 A 0 A_GiveInventory("Cell",80)
        TNT1 A 0 A_JumpIfInventory("QuakeModeOn",1,"PickupStop")
        TNT1 A 0 A_GiveInventory("PlasmaCell",1)
        stop

      PickupSuccessBlake:
        TNT1 A 0 A_GiveInventory("Cell",100)
        stop

      PickupSuccessCorridor7:
        goto PickupSuccessBlake

      PickupSuccessWitchaven:
        goto PickupSuccessBlake

      PickupSuccessGoldenEye:
        goto PickupSuccessDefault

      PickupSuccessPainkiller:
      PickupSuccessPainkillerReplenish:
        TNT1 A 0 A_GiveInventory("Cell",80)
        TNT1 A 0 A_GiveInventory("Painkiller_ElectroAmmo",60)
        stop

      PickupSuccessRTCW:
        TNT1 A 0 A_GiveInventory("Cell",80)
        TNT1 A 0 A_GiveInventory("RTCW_AlliedAmmo4",40)
        stop
    }
}
